//! Generated tag table definitions from Samsung::Type2
//!
//! This file is auto-generated by codegen/src/strategies/tag_kit.rs. Do not edit manually.

use crate::types::{PrintConv, TagInfo, ValueConv};
use std::collections::HashMap;
use std::sync::LazyLock;

// Generated imports for conversion functions
use crate::generated::functions::hash_68::ast_value_68a0386b1983f2b;
use crate::generated::functions::hash_76::ast_print_76c7cc600804b004;
use crate::generated::functions::hash_8e::ast_value_8e281e57f268ff8;
use crate::generated::functions::hash_b4::ast_print_b44b87d319f681cc;
use crate::generated::functions::hash_ca::ast_print_cab7be313d3e671f;
use crate::generated::functions::hash_dd::ast_print_dd22782e5ba8c7cb;
use crate::generated::functions::hash_f4::ast_value_f4bd1553bca2b9aa;

/// Tag definitions for Samsung::Type2 table
pub static SAMSUNG_TYPE2_TAGS: LazyLock<HashMap<u16, TagInfo>> = LazyLock::new(|| {
    HashMap::from([
        (
            1,
            TagInfo {
                name: "MakerNoteVersion",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            2,
            TagInfo {
                name: "DeviceType",
                format: "unknown",
                print_conv: Some(PrintConv::Simple(std::collections::HashMap::from([
                    ("12288".to_string(), "HXM Video Camera"),
                    ("3145728".to_string(), "SMX Video Camera"),
                    ("4096".to_string(), "Compact Digital Camera"),
                    ("73728".to_string(), "Cell Phone"),
                    ("8192".to_string(), "High-end NX Camera"),
                ]))),
                value_conv: None,
            },
        ),
        (
            3,
            TagInfo {
                name: "SamsungModelID",
                format: "unknown",
                print_conv: Some(PrintConv::Simple(std::collections::HashMap::from([
                    ("100667446".to_string(), "EX1"),
                    ("117445404".to_string(), "VLUU SH100, SH100"),
                    ("16781340".to_string(), "NX10"),
                    ("16781862".to_string(), "HMX-S15BP"),
                    ("16781875".to_string(), "HMX-Q10"),
                    ("16781876".to_string(), "HMX-H304"),
                    ("16782092".to_string(), "NX100"),
                    ("16782119".to_string(), "NX11"),
                    (
                        "24121419".to_string(),
                        "ES65, ES67 / VLUU ES65, ES67 / SL50",
                    ),
                    (
                        "24121422".to_string(),
                        "ES70, ES71 / VLUU ES70, ES71 / SL600",
                    ),
                    ("24121426".to_string(), "ES73 / VLUU ES73 / SL605"),
                    (
                        "24121429".to_string(),
                        "ES25, ES27 / VLUU ES25, ES27 / SL45",
                    ),
                    ("24122112".to_string(), "ES28 / VLUU ES28"),
                    ("24122115".to_string(), "ES74,ES75,ES78 / VLUU ES75,ES78"),
                    ("33558598".to_string(), "PL150 / VLUU PL150 / TL210 / PL151"),
                    ("33558600".to_string(), "PL100 / TL205 / VLUU PL100 / PL101"),
                    ("33559313".to_string(), "PL120,PL121 / VLUU PL120,PL121"),
                    ("33559317".to_string(), "PL170,PL171 / VLUUPL170,PL171"),
                    ("33559326".to_string(), "PL210, PL211 / VLUU PL210, PL211"),
                    ("40899351".to_string(), "PL20,PL21 / VLUU PL20,PL21"),
                    ("44040219".to_string(), "WP10 / VLUU WP10 / AQ100"),
                    ("50331648".to_string(), "Various Models (0x3000000)"),
                    ("60817432".to_string(), "Various Models (0x3a00018)"),
                    ("655519746".to_string(), "SMX-C20N"),
                    (
                        "67112991".to_string(),
                        "ST1000 / ST1100 / VLUU ST1000 / CL65",
                    ),
                    ("67112994".to_string(), "ST550 / VLUU ST550 / TL225"),
                    ("67112997".to_string(), "Various Models (0x4001025)"),
                    ("67113022".to_string(), "VLUU ST5500, ST5500, CL80"),
                    ("67113025".to_string(), "VLUU ST5000, ST5000, TL240"),
                    ("67113027".to_string(), "ST70 / VLUU ST70 / ST71"),
                    ("67113738".to_string(), "Various Models (0x400130a)"),
                    ("67113742".to_string(), "ST90,ST91 / VLUU ST90,ST91"),
                    ("67113747".to_string(), "VLUU ST95, ST95"),
                    ("77594645".to_string(), "VLUU ST60"),
                    ("77599579".to_string(), "ST30, ST65 / VLUU ST65 / ST67"),
                    ("83886080".to_string(), "Various Models (0x5000000)"),
                    ("83890232".to_string(), "Various Models (0x5001038)"),
                    ("83890234".to_string(), "WB650 / VLUU WB650 / WB660"),
                    ("83890236".to_string(), "WB600 / VLUU WB600 / WB610"),
                    (
                        "83891006".to_string(),
                        "WB150 / WB150F / WB152 / WB152F / WB151",
                    ),
                    ("94371855".to_string(), "WB5000 / HZ25W"),
                    ("94371870".to_string(), "WB5500 / VLUU WB5500 / HZ50W"),
                ]))),
                value_conv: None,
            },
        ),
        (
            17,
            TagInfo {
                name: "OrientationInfo",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            33,
            TagInfo {
                name: "PictureWizard",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            48,
            TagInfo {
                name: "LocalLocationName",
                format: "undef",
                print_conv: None,
                value_conv: Some(ValueConv::Function(ast_value_f4bd1553bca2b9aa)),
            },
        ),
        (
            49,
            TagInfo {
                name: "LocationName",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            64,
            TagInfo {
                name: "RawDataByteOrder",
                format: "unknown",
                print_conv: Some(PrintConv::Simple(std::collections::HashMap::from([
                    ("0".to_string(), "Little-endian (Intel, II)"),
                    ("1".to_string(), "Big-endian (Motorola, MM)"),
                ]))),
                value_conv: None,
            },
        ),
        (
            65,
            TagInfo {
                name: "WhiteBalanceSetup",
                format: "unknown",
                print_conv: Some(PrintConv::Simple(std::collections::HashMap::from([
                    ("0".to_string(), "Auto"),
                    ("1".to_string(), "Manual"),
                ]))),
                value_conv: None,
            },
        ),
        (
            67,
            TagInfo {
                name: "CameraTemperature",
                format: "unknown",
                print_conv: Some(PrintConv::Function(ast_print_76c7cc600804b004)),
                value_conv: None,
            },
        ),
        (
            80,
            TagInfo {
                name: "RawDataCFAPattern",
                format: "unknown",
                print_conv: Some(PrintConv::Simple(std::collections::HashMap::from([
                    ("0".to_string(), "Unchanged"),
                    ("1".to_string(), "Swap"),
                    ("65535".to_string(), "Roll"),
                ]))),
                value_conv: None,
            },
        ),
        (
            256,
            TagInfo {
                name: "FaceDetect",
                format: "unknown",
                print_conv: Some(PrintConv::Simple(std::collections::HashMap::from([
                    ("0".to_string(), "Off"),
                    ("1".to_string(), "On"),
                ]))),
                value_conv: None,
            },
        ),
        (
            288,
            TagInfo {
                name: "FaceRecognition",
                format: "unknown",
                print_conv: Some(PrintConv::Simple(std::collections::HashMap::from([
                    ("0".to_string(), "Off"),
                    ("1".to_string(), "On"),
                ]))),
                value_conv: None,
            },
        ),
        (
            291,
            TagInfo {
                name: "FaceName",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40961,
            TagInfo {
                name: "FirmwareName",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40962,
            TagInfo {
                name: "SerialNumber",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40963,
            TagInfo {
                name: "LensType",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40964,
            TagInfo {
                name: "LensFirmware",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40965,
            TagInfo {
                name: "InternalLensSerialNumber",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40976,
            TagInfo {
                name: "SensorAreas",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40977,
            TagInfo {
                name: "ColorSpace",
                format: "unknown",
                print_conv: Some(PrintConv::Simple(std::collections::HashMap::from([
                    ("0".to_string(), "sRGB"),
                    ("1".to_string(), "Adobe RGB"),
                ]))),
                value_conv: None,
            },
        ),
        (
            40978,
            TagInfo {
                name: "SmartRange",
                format: "unknown",
                print_conv: Some(PrintConv::Simple(std::collections::HashMap::from([
                    ("0".to_string(), "Off"),
                    ("1".to_string(), "On"),
                ]))),
                value_conv: None,
            },
        ),
        (
            40979,
            TagInfo {
                name: "ExposureCompensation",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40980,
            TagInfo {
                name: "ISO",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40984,
            TagInfo {
                name: "ExposureTime",
                format: "unknown",
                print_conv: Some(PrintConv::Function(ast_print_cab7be313d3e671f)),
                value_conv: Some(ValueConv::Function(ast_value_68a0386b1983f2b)),
            },
        ),
        (
            40985,
            TagInfo {
                name: "FNumber",
                format: "unknown",
                print_conv: Some(PrintConv::Function(ast_print_b44b87d319f681cc)),
                value_conv: Some(ValueConv::Function(ast_value_68a0386b1983f2b)),
            },
        ),
        (
            40986,
            TagInfo {
                name: "FocalLengthIn35mmFormat",
                format: "int32u",
                print_conv: Some(PrintConv::Function(ast_print_dd22782e5ba8c7cb)),
                value_conv: Some(ValueConv::Function(ast_value_8e281e57f268ff8)),
            },
        ),
        (
            40992,
            TagInfo {
                name: "EncryptionKey",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40993,
            TagInfo {
                name: "WB_RGGBLevelsUncorrected",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40994,
            TagInfo {
                name: "WB_RGGBLevelsAuto",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40995,
            TagInfo {
                name: "WB_RGGBLevelsIlluminator1",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40996,
            TagInfo {
                name: "WB_RGGBLevelsIlluminator2",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40997,
            TagInfo {
                name: "HighlightLinearityLimit",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41000,
            TagInfo {
                name: "WB_RGGBLevelsBlack",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41008,
            TagInfo {
                name: "ColorMatrix",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41009,
            TagInfo {
                name: "ColorMatrixSRGB",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41010,
            TagInfo {
                name: "ColorMatrixAdobeRGB",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41011,
            TagInfo {
                name: "CbCrMatrixDefault",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41012,
            TagInfo {
                name: "CbCrMatrix",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41013,
            TagInfo {
                name: "CbCrGainDefault",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41014,
            TagInfo {
                name: "CbCrGain",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41024,
            TagInfo {
                name: "ToneCurveSRGBDefault",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41025,
            TagInfo {
                name: "ToneCurveAdobeRGBDefault",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41026,
            TagInfo {
                name: "ToneCurveSRGB",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41027,
            TagInfo {
                name: "ToneCurveAdobeRGB",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41032,
            TagInfo {
                name: "RawData",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41040,
            TagInfo {
                name: "Distortion",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41041,
            TagInfo {
                name: "ChromaticAberration",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41042,
            TagInfo {
                name: "Vignetting",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41043,
            TagInfo {
                name: "VignettingCorrection",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41044,
            TagInfo {
                name: "VignettingSetting",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41045,
            TagInfo {
                name: "Samsung_Type2_0xa055",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41046,
            TagInfo {
                name: "Samsung_Type2_0xa056",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41047,
            TagInfo {
                name: "Samsung_Type2_0xa057",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
    ])
});

/// Apply ValueConv transformation for tags in this table
pub fn apply_value_conv(
    tag_id: u32,
    value: &crate::types::TagValue,
    _errors: &mut Vec<String>,
) -> Result<crate::types::TagValue, crate::types::ExifError> {
    let tag_id_u16 = tag_id as u16;
    if let Some(tag_def) = SAMSUNG_TYPE2_TAGS.get(&tag_id_u16) {
        if let Some(ref value_conv) = tag_def.value_conv {
            match value_conv {
                ValueConv::None => Ok(value.clone()),
                ValueConv::Function(func) => func(value, None),
                ValueConv::Expression(_expr) => {
                    // Runtime expression evaluation removed - all Perl interpretation happens via PPI at build time
                    Err(crate::types::ExifError::NotImplemented("Runtime expression evaluation not supported - should be handled by PPI at build time".to_string()))
                }
                _ => Ok(value.clone()),
            }
        } else {
            Ok(value.clone())
        }
    } else {
        Err(crate::types::ExifError::ParseError(format!(
            "Tag 0x{:04x} not found in table",
            tag_id
        )))
    }
}

/// Apply PrintConv transformation for tags in this table
pub fn apply_print_conv(
    tag_id: u32,
    value: &crate::types::TagValue,
    _errors: &mut Vec<String>,
    _warnings: &mut Vec<String>,
) -> crate::types::TagValue {
    let tag_id_u16 = tag_id as u16;
    if let Some(tag_def) = SAMSUNG_TYPE2_TAGS.get(&tag_id_u16) {
        if let Some(ref print_conv) = tag_def.print_conv {
            match print_conv {
                PrintConv::None => value.clone(),
                PrintConv::Function(func) => func(value, None),
                PrintConv::Simple(lookup) => {
                    // Look up value in the hash map
                    // ExifTool uses the stringified value as the key
                    let key = value.to_string();
                    if let Some(display_value) = lookup.get(&key) {
                        crate::types::TagValue::String(display_value.to_string())
                    } else {
                        // Key not found - return original value
                        value.clone()
                    }
                }
                PrintConv::Expression(_expr) => {
                    // Runtime expression evaluation removed - all Perl interpretation happens via PPI at build time
                    value.clone() // Fallback to original value when expression not handled by PPI
                }
                _ => value.clone(),
            }
        } else {
            value.clone()
        }
    } else {
        value.clone()
    }
}
