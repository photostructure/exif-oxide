//! Generated tag table definitions from Samsung::Type2
//!
//! This file is auto-generated by codegen/src/strategies/tag_kit.rs. Do not edit manually.

use crate::types::{PrintConv, TagInfo, ValueConv};
use std::collections::HashMap;
use std::sync::LazyLock;

// Generated imports for conversion functions
use crate::generated::functions::hash_26::ast_print_2605bce06efb0270;
use crate::generated::functions::hash_28::ast_value_28edfda19b0d16dd;
use crate::generated::functions::hash_84::ast_print_8470e30e1e5b4729;
use crate::generated::functions::hash_a6::ast_value_a63033e775fcc039;
use crate::generated::functions::hash_ba::ast_print_ba030bb348470426;
use crate::generated::functions::hash_c6::ast_print_c60ce4347d672501;
use crate::generated::functions::hash_ed::ast_value_edcabe5cee6e23c4;

/// Tag definitions for Samsung::Type2 table
pub static SAMSUNG_TYPE2_TAGS: LazyLock<HashMap<u16, TagInfo>> = LazyLock::new(|| {
    HashMap::from([
        (
            1,
            TagInfo {
                name: "MakerNoteVersion",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            2,
            TagInfo {
                name: "DeviceType",
                format: "unknown",
                print_conv: Some(PrintConv::Complex),
                value_conv: None,
            },
        ),
        (
            3,
            TagInfo {
                name: "SamsungModelID",
                format: "unknown",
                print_conv: Some(PrintConv::Complex),
                value_conv: None,
            },
        ),
        (
            17,
            TagInfo {
                name: "OrientationInfo",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            33,
            TagInfo {
                name: "PictureWizard",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            48,
            TagInfo {
                name: "LocalLocationName",
                format: "undef",
                print_conv: None,
                value_conv: Some(ValueConv::Function(ast_value_a63033e775fcc039)),
            },
        ),
        (
            49,
            TagInfo {
                name: "LocationName",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            64,
            TagInfo {
                name: "RawDataByteOrder",
                format: "unknown",
                print_conv: Some(PrintConv::Complex),
                value_conv: None,
            },
        ),
        (
            65,
            TagInfo {
                name: "WhiteBalanceSetup",
                format: "unknown",
                print_conv: Some(PrintConv::Complex),
                value_conv: None,
            },
        ),
        (
            67,
            TagInfo {
                name: "CameraTemperature",
                format: "unknown",
                print_conv: Some(PrintConv::Function(ast_print_2605bce06efb0270)),
                value_conv: None,
            },
        ),
        (
            80,
            TagInfo {
                name: "RawDataCFAPattern",
                format: "unknown",
                print_conv: Some(PrintConv::Complex),
                value_conv: None,
            },
        ),
        (
            256,
            TagInfo {
                name: "FaceDetect",
                format: "unknown",
                print_conv: Some(PrintConv::Complex),
                value_conv: None,
            },
        ),
        (
            288,
            TagInfo {
                name: "FaceRecognition",
                format: "unknown",
                print_conv: Some(PrintConv::Complex),
                value_conv: None,
            },
        ),
        (
            291,
            TagInfo {
                name: "FaceName",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40961,
            TagInfo {
                name: "FirmwareName",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40962,
            TagInfo {
                name: "SerialNumber",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40963,
            TagInfo {
                name: "LensType",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40964,
            TagInfo {
                name: "LensFirmware",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40965,
            TagInfo {
                name: "InternalLensSerialNumber",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40976,
            TagInfo {
                name: "SensorAreas",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40977,
            TagInfo {
                name: "ColorSpace",
                format: "unknown",
                print_conv: Some(PrintConv::Complex),
                value_conv: None,
            },
        ),
        (
            40978,
            TagInfo {
                name: "SmartRange",
                format: "unknown",
                print_conv: Some(PrintConv::Complex),
                value_conv: None,
            },
        ),
        (
            40979,
            TagInfo {
                name: "ExposureCompensation",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40980,
            TagInfo {
                name: "ISO",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40984,
            TagInfo {
                name: "ExposureTime",
                format: "unknown",
                print_conv: Some(PrintConv::Function(ast_print_c60ce4347d672501)),
                value_conv: Some(ValueConv::Function(ast_value_edcabe5cee6e23c4)),
            },
        ),
        (
            40985,
            TagInfo {
                name: "FNumber",
                format: "unknown",
                print_conv: Some(PrintConv::Function(ast_print_8470e30e1e5b4729)),
                value_conv: Some(ValueConv::Function(ast_value_edcabe5cee6e23c4)),
            },
        ),
        (
            40986,
            TagInfo {
                name: "FocalLengthIn35mmFormat",
                format: "int32u",
                print_conv: Some(PrintConv::Function(ast_print_ba030bb348470426)),
                value_conv: Some(ValueConv::Function(ast_value_28edfda19b0d16dd)),
            },
        ),
        (
            40992,
            TagInfo {
                name: "EncryptionKey",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40993,
            TagInfo {
                name: "WB_RGGBLevelsUncorrected",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40994,
            TagInfo {
                name: "WB_RGGBLevelsAuto",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40995,
            TagInfo {
                name: "WB_RGGBLevelsIlluminator1",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40996,
            TagInfo {
                name: "WB_RGGBLevelsIlluminator2",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            40997,
            TagInfo {
                name: "HighlightLinearityLimit",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41000,
            TagInfo {
                name: "WB_RGGBLevelsBlack",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41008,
            TagInfo {
                name: "ColorMatrix",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41009,
            TagInfo {
                name: "ColorMatrixSRGB",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41010,
            TagInfo {
                name: "ColorMatrixAdobeRGB",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41011,
            TagInfo {
                name: "CbCrMatrixDefault",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41012,
            TagInfo {
                name: "CbCrMatrix",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41013,
            TagInfo {
                name: "CbCrGainDefault",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41014,
            TagInfo {
                name: "CbCrGain",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41024,
            TagInfo {
                name: "ToneCurveSRGBDefault",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41025,
            TagInfo {
                name: "ToneCurveAdobeRGBDefault",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41026,
            TagInfo {
                name: "ToneCurveSRGB",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41027,
            TagInfo {
                name: "ToneCurveAdobeRGB",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41032,
            TagInfo {
                name: "RawData",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41040,
            TagInfo {
                name: "Distortion",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41041,
            TagInfo {
                name: "ChromaticAberration",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41042,
            TagInfo {
                name: "Vignetting",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41043,
            TagInfo {
                name: "VignettingCorrection",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41044,
            TagInfo {
                name: "VignettingSetting",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41045,
            TagInfo {
                name: "Samsung_Type2_0xa055",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41046,
            TagInfo {
                name: "Samsung_Type2_0xa056",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            41047,
            TagInfo {
                name: "Samsung_Type2_0xa057",
                format: "unknown",
                print_conv: None,
                value_conv: None,
            },
        ),
    ])
});

/// Apply ValueConv transformation for tags in this table
pub fn apply_value_conv(
    tag_id: u32,
    value: &crate::types::TagValue,
    _errors: &mut Vec<String>,
) -> Result<crate::types::TagValue, crate::types::ExifError> {
    let tag_id_u16 = tag_id as u16;
    if let Some(tag_def) = SAMSUNG_TYPE2_TAGS.get(&tag_id_u16) {
        if let Some(ref value_conv) = tag_def.value_conv {
            match value_conv {
                ValueConv::None => Ok(value.clone()),
                ValueConv::Function(func) => func(value, None),
                ValueConv::Expression(_expr) => {
                    // Runtime expression evaluation removed - all Perl interpretation happens via PPI at build time
                    Err(crate::types::ExifError::NotImplemented("Runtime expression evaluation not supported - should be handled by PPI at build time".to_string()))
                }
                _ => Ok(value.clone()),
            }
        } else {
            Ok(value.clone())
        }
    } else {
        Err(crate::types::ExifError::ParseError(format!(
            "Tag 0x{:04x} not found in table",
            tag_id
        )))
    }
}

/// Apply PrintConv transformation for tags in this table
pub fn apply_print_conv(
    tag_id: u32,
    value: &crate::types::TagValue,
    _errors: &mut Vec<String>,
    _warnings: &mut Vec<String>,
) -> crate::types::TagValue {
    let tag_id_u16 = tag_id as u16;
    if let Some(tag_def) = SAMSUNG_TYPE2_TAGS.get(&tag_id_u16) {
        if let Some(ref print_conv) = tag_def.print_conv {
            match print_conv {
                PrintConv::None => value.clone(),
                PrintConv::Function(func) => func(value, None),
                PrintConv::Expression(_expr) => {
                    // Runtime expression evaluation removed - all Perl interpretation happens via PPI at build time
                    value.clone() // Fallback to original value when expression not handled by PPI
                }
                _ => value.clone(),
            }
        } else {
            value.clone()
        }
    } else {
        value.clone()
    }
}
