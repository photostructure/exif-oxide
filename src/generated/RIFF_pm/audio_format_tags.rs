//! Generated tag table definitions from RIFF::AudioFormat
//!
//! This file is auto-generated by codegen/src/strategies/tag_kit.rs. Do not edit manually.

use crate::types::{PrintConv, TagInfo, ValueConv};
use std::collections::HashMap;
use std::sync::LazyLock;

/// Tag definitions for RIFF::AudioFormat table
pub static RIFF_AUDIOFORMAT_TAGS: LazyLock<HashMap<u16, TagInfo>> = LazyLock::new(|| {
    HashMap::from([
        (
            0,
            TagInfo {
                name: "Encoding",
                format: "unknown",
                print_conv: Some(PrintConv::Simple(std::collections::HashMap::from([
                    ("1".to_string(), "Microsoft PCM"),
                    ("10".to_string(), "WMA 9 Speech"),
                    ("100".to_string(), "APICOM G.726 ADPCM"),
                    ("101".to_string(), "APICOM G.722 ADPCM"),
                    ("102".to_string(), "Microsoft DSAT"),
                    ("1024".to_string(), "Brooktree Digital"),
                    ("1025".to_string(), "Intel Music Coder (IMC)"),
                    ("1026".to_string(), "Ligos Indeo Audio"),
                    ("103".to_string(), "Microsoft DSAT DISPLAY"),
                    ("105".to_string(), "Voxware Byte Aligned"),
                    ("11".to_string(), "Microsoft Windows Media RT Voice"),
                    ("1104".to_string(), "QDesign Music"),
                    ("112".to_string(), "Voxware AC8"),
                    ("113".to_string(), "Voxware AC10"),
                    ("114".to_string(), "Voxware AC16"),
                    ("115".to_string(), "Voxware AC20"),
                    ("116".to_string(), "Voxware MetaVoice"),
                    ("117".to_string(), "Voxware MetaSound"),
                    ("118".to_string(), "Voxware RT29HW"),
                    ("119".to_string(), "Voxware VR12"),
                    ("120".to_string(), "Voxware VR18"),
                    ("121".to_string(), "Voxware TQ40"),
                    ("122".to_string(), "Voxware SC3"),
                    ("123".to_string(), "Voxware SC3"),
                    ("128".to_string(), "Soundsoft"),
                    ("1280".to_string(), "On2 VP7 On2 Technologies"),
                    ("1281".to_string(), "On2 VP6 On2 Technologies"),
                    ("129".to_string(), "Voxware TQ60"),
                    ("130".to_string(), "Microsoft MSRT24"),
                    (
                        "13075".to_string(),
                        "makeAVIS (ffvfw fake AVI sound from AviSynth scripts)",
                    ),
                    ("131".to_string(), "AT&T G.729A"),
                    ("132".to_string(), "Motion Pixels MVI MV12"),
                    ("133".to_string(), "DataFusion G.726"),
                    ("134".to_string(), "DataFusion GSM610"),
                    ("136".to_string(), "Iterated Systems Audio"),
                    ("137".to_string(), "Onlive"),
                    ("138".to_string(), "Multitude, Inc. FT SX20"),
                    ("139".to_string(), "Infocom ITS A/S G.721 ADPCM"),
                    ("140".to_string(), "Convedia G729"),
                    ("141".to_string(), "Not specified congruency, Inc."),
                    ("145".to_string(), "Siemens SBC24"),
                    ("146".to_string(), "Sonic Foundry Dolby AC3 APDIF"),
                    ("147".to_string(), "MediaSonic G.723"),
                    ("148".to_string(), "Aculab Prosody 8kbps"),
                    ("151".to_string(), "ZyXEL ADPCM"),
                    ("152".to_string(), "Philips LPCBB"),
                    ("153".to_string(), "Studer Professional Audio Packed"),
                    ("16".to_string(), "OKI-ADPCM"),
                    ("160".to_string(), "Malden PhonyTalk"),
                    ("161".to_string(), "Racal Recorder GSM"),
                    ("162".to_string(), "Racal Recorder G720.a"),
                    ("163".to_string(), "Racal G723.1"),
                    ("164".to_string(), "Racal Tetra ACELP"),
                    ("1664".to_string(), "AT&T VME VMPCM"),
                    ("1665".to_string(), "AT&T TCP"),
                    ("16707".to_string(), "Divio MPEG-4 AAC audio"),
                    ("16897".to_string(), "Nokia adaptive multirate"),
                    ("16963".to_string(), "Divio G726 Divio, Inc."),
                    ("17".to_string(), "Intel IMA/DVI-ADPCM"),
                    ("17228".to_string(), "LEAD Speech"),
                    ("176".to_string(), "NEC AAC NEC Corporation"),
                    (
                        "1792".to_string(),
                        "YMPEG Alpha (dummy for MPEG-2 compressor)",
                    ),
                    ("18".to_string(), "Videologic Mediaspace ADPCM"),
                    ("19".to_string(), "Sierra ADPCM"),
                    ("2".to_string(), "Microsoft ADPCM"),
                    ("20".to_string(), "Antex G.723 ADPCM"),
                    ("21".to_string(), "DSP Solutions DIGISTD"),
                    ("22".to_string(), "DSP Solutions DIGIFIX"),
                    ("22092".to_string(), "LEAD Vorbis"),
                    ("2222".to_string(), "ClearJump LiteWave (lossless)"),
                    ("22358".to_string(), "WavPack Audio"),
                    ("23".to_string(), "Dialoic OKI ADPCM"),
                    ("24".to_string(), "Media Vision ADPCM"),
                    ("25".to_string(), "HP CU"),
                    ("255".to_string(), "AAC"),
                    ("256".to_string(), "Rhetorex ADPCM"),
                    ("257".to_string(), "IBM u-Law"),
                    ("258".to_string(), "IBM a-Law"),
                    ("259".to_string(), "IBM ADPCM"),
                    ("26".to_string(), "HP Dynamic Voice"),
                    ("26447".to_string(), "Ogg Vorbis (mode 1)"),
                    ("26448".to_string(), "Ogg Vorbis (mode 2)"),
                    ("26449".to_string(), "Ogg Vorbis (mode 3)"),
                    ("26479".to_string(), "Ogg Vorbis (mode 1+)"),
                    ("26480".to_string(), "Ogg Vorbis (mode 2+)"),
                    ("26481".to_string(), "Ogg Vorbis (mode 3+)"),
                    ("273".to_string(), "Vivo G.723"),
                    ("274".to_string(), "Vivo Siren"),
                    ("28672".to_string(), "3COM NBX 3Com Corporation"),
                    ("28781".to_string(), "FAAD AAC"),
                    ("288".to_string(), "Philips Speech Processing CELP"),
                    ("289".to_string(), "Philips Speech Processing GRUNDIG"),
                    ("291".to_string(), "Digital G.723"),
                    ("293".to_string(), "Sanyo LD ADPCM"),
                    ("3".to_string(), "Microsoft IEEE float"),
                    ("304".to_string(), "Sipro Lab ACEPLNET"),
                    ("305".to_string(), "Sipro Lab ACELP4800"),
                    ("306".to_string(), "Sipro Lab ACELP8V3"),
                    ("307".to_string(), "Sipro Lab G.729"),
                    ("308".to_string(), "Sipro Lab G.729A"),
                    ("309".to_string(), "Sipro Lab Kelvin"),
                    ("310".to_string(), "VoiceAge AMR"),
                    ("31265".to_string(), "GSM-AMR (CBR, no SID)"),
                    ("31266".to_string(), "GSM-AMR (VBR, including SID)"),
                    ("32".to_string(), "Yamaha ADPCM"),
                    ("320".to_string(), "Dictaphone G.726 ADPCM"),
                    ("33".to_string(), "SONARC Speech Compression"),
                    ("336".to_string(), "Qualcomm PureVoice"),
                    ("337".to_string(), "Qualcomm HalfRate"),
                    ("34".to_string(), "DSP Group True Speech"),
                    ("341".to_string(), "Ring Zero Systems TUBGSM"),
                    ("35".to_string(), "Echo Speech Corp."),
                    ("352".to_string(), "Microsoft Audio1"),
                    (
                        "353".to_string(),
                        "Windows Media Audio V2 V7 V8 V9 / DivX audio (WMA) / Alex AC3 Audio",
                    ),
                    ("354".to_string(), "Windows Media Audio Professional V9"),
                    ("355".to_string(), "Windows Media Audio Lossless V9"),
                    ("356".to_string(), "WMA Pro over S/PDIF"),
                    ("36".to_string(), "Virtual Music Audiofile AF36"),
                    ("368".to_string(), "UNISYS NAP ADPCM"),
                    ("369".to_string(), "UNISYS NAP ULAW"),
                    ("37".to_string(), "Audio Processing Tech."),
                    ("370".to_string(), "UNISYS NAP ALAW"),
                    ("371".to_string(), "UNISYS NAP 16K"),
                    ("372".to_string(), "MM SYCOM ACM SYC008 SyCom Technologies"),
                    (
                        "373".to_string(),
                        "MM SYCOM ACM SYC701 G726L SyCom Technologies",
                    ),
                    (
                        "374".to_string(),
                        "MM SYCOM ACM SYC701 CELP54 SyCom Technologies",
                    ),
                    (
                        "375".to_string(),
                        "MM SYCOM ACM SYC701 CELP68 SyCom Technologies",
                    ),
                    ("376".to_string(), "Knowledge Adventure ADPCM"),
                    ("38".to_string(), "Virtual Music Audiofile AF10"),
                    ("384".to_string(), "Fraunhofer IIS MPEG2AAC"),
                    ("39".to_string(), "Aculab Prosody 1612"),
                    ("4".to_string(), "Compaq VSELP"),
                    ("40".to_string(), "Merging Tech. LRC"),
                    ("400".to_string(), "Digital Theater Systems DTS DS"),
                    ("4096".to_string(), "Olivetti GSM"),
                    ("4097".to_string(), "Olivetti ADPCM"),
                    ("4098".to_string(), "Olivetti CELP"),
                    ("4099".to_string(), "Olivetti SBC"),
                    ("4100".to_string(), "Olivetti OPR"),
                    ("41216".to_string(), "Comverse Infosys Ltd. G723 1"),
                    ("41217".to_string(), "Comverse Infosys Ltd. AVQSBC"),
                    ("41218".to_string(), "Comverse Infosys Ltd. OLDSBC"),
                    ("41219".to_string(), "Symbol Technologies G729A"),
                    ("41220".to_string(), "VoiceAge AMR WB VoiceAge Corporation"),
                    ("41221".to_string(), "Ingenient Technologies Inc. G726"),
                    ("41222".to_string(), "ISO/MPEG-4 advanced audio Coding"),
                    ("41223".to_string(), "Encore Software Ltd G726"),
                    ("41225".to_string(), "Speex ACM Codec xiph.org"),
                    ("4352".to_string(), "Lernout & Hauspie"),
                    ("4353".to_string(), "Lernout & Hauspie CELP codec"),
                    ("4354".to_string(), "Lernout & Hauspie SBC codec"),
                    ("4355".to_string(), "Lernout & Hauspie SBC codec"),
                    ("4356".to_string(), "Lernout & Hauspie SBC codec"),
                    ("48".to_string(), "Dolby AC2"),
                    ("49".to_string(), "Microsoft GSM610"),
                    ("5".to_string(), "IBM CVSD"),
                    ("50".to_string(), "MSN Audio"),
                    ("51".to_string(), "Antex ADPCME"),
                    ("512".to_string(), "Creative Labs ADPCM"),
                    ("5120".to_string(), "Norris Comm. Inc."),
                    ("5121".to_string(), "ISIAudio"),
                    ("514".to_string(), "Creative Labs FASTSPEECH8"),
                    ("515".to_string(), "Creative Labs FASTSPEECH10"),
                    ("52".to_string(), "Control Resources VQLPC"),
                    ("528".to_string(), "UHER ADPCM"),
                    ("53".to_string(), "DSP Solutions DIGIREAL"),
                    ("533".to_string(), "Ulead DV ACM"),
                    ("534".to_string(), "Ulead DV ACM"),
                    ("5376".to_string(), "AT&T Soundspace Music Compression"),
                    ("54".to_string(), "DSP Solutions DIGIADPCM"),
                    ("544".to_string(), "Quarterdeck Corp."),
                    ("55".to_string(), "Control Resources CR10"),
                    ("56".to_string(), "Natural MicroSystems VBX ADPCM"),
                    ("560".to_string(), "I-Link VC"),
                    ("57".to_string(), "Crystal Semiconductor IMA ADPCM"),
                    (
                        "57260".to_string(),
                        "DebugMode SonicFoundry Vegas FrameServer ACM Codec",
                    ),
                    ("576".to_string(), "Aureal Semiconductor Raw Sport"),
                    ("577".to_string(), "ESST AC3"),
                    ("58".to_string(), "Echo Speech ECHOSC3"),
                    ("59".to_string(), "Rockwell ADPCM"),
                    ("59144".to_string(), "Unknown -"),
                    ("592".to_string(), "Interactive Products HSX"),
                    ("593".to_string(), "Interactive Products RPELP"),
                    ("6".to_string(), "Microsoft a-Law"),
                    ("60".to_string(), "Rockwell DIGITALK"),
                    ("608".to_string(), "Consistent CS2"),
                    ("61".to_string(), "Xebec Multimedia"),
                    ("6172".to_string(), "VoxWare RT24 speech codec"),
                    ("6174".to_string(), "Lucent elemedia AX24000P Music codec"),
                    ("61868".to_string(), "Free Lossless Audio Codec FLAC"),
                    ("624".to_string(), "Sony SCX"),
                    ("625".to_string(), "Sony SCY"),
                    ("626".to_string(), "Sony ATRAC3"),
                    ("627".to_string(), "Sony SPC"),
                    ("64".to_string(), "Antex G.721 ADPCM"),
                    ("640".to_string(), "TELUM Telum Inc."),
                    ("641".to_string(), "TELUMIA Telum Inc."),
                    ("645".to_string(), "Norcom Voice Systems ADPCM"),
                    ("65".to_string(), "Antex G.728 CELP"),
                    ("6513".to_string(), "Sonic Foundry LOSSLESS"),
                    ("6521".to_string(), "Innings Telecom Inc. ADPCM"),
                    ("65534".to_string(), "Extensible"),
                    ("65535".to_string(), "Development"),
                    ("66".to_string(), "Microsoft MSG723"),
                    ("67".to_string(), "IBM AVC ADPCM"),
                    ("69".to_string(), "ITU-T G.726"),
                    ("7".to_string(), "Microsoft u-Law"),
                    ("7175".to_string(), "Lucent SX8300P speech codec"),
                    ("7180".to_string(), "Lucent SX5363S G.723 compliant codec"),
                    ("768".to_string(), "Fujitsu FM TOWNS SND"),
                    ("769".to_string(), "Fujitsu (not specified)"),
                    ("770".to_string(), "Fujitsu (not specified)"),
                    ("771".to_string(), "Fujitsu (not specified)"),
                    ("772".to_string(), "Fujitsu (not specified)"),
                    ("773".to_string(), "Fujitsu (not specified)"),
                    ("774".to_string(), "Fujitsu (not specified)"),
                    ("775".to_string(), "Fujitsu (not specified)"),
                    ("776".to_string(), "Fujitsu (not specified)"),
                    ("7939".to_string(), "CUseeMe DigiTalk (ex-Rocwell)"),
                    ("8".to_string(), "Microsoft DTS"),
                    ("80".to_string(), "Microsoft MPEG"),
                    ("81".to_string(), "RT23 or PAC"),
                    ("8132".to_string(), "NCT Soft ALF2CD ACM"),
                    ("8192".to_string(), "FAST Multimedia DVM"),
                    ("8193".to_string(), "Dolby DTS (Digital Theater System)"),
                    ("8194".to_string(), "RealAudio 1 / 2 14.4"),
                    ("8195".to_string(), "RealAudio 1 / 2 28.8"),
                    ("8196".to_string(), "RealAudio G2 / 8 Cook (low bitrate)"),
                    ("8197".to_string(), "RealAudio 3 / 4 / 5 Music (DNET)"),
                    ("8198".to_string(), "RealAudio 10 AAC (RAAC)"),
                    ("8199".to_string(), "RealAudio 10 AAC+ (RACP)"),
                    ("82".to_string(), "InSoft RT24"),
                    ("83".to_string(), "InSoft PAC"),
                    (
                        "848".to_string(),
                        "Micronas Semiconductors, Inc. Development",
                    ),
                    ("849".to_string(), "Micronas Semiconductors, Inc. CELP833"),
                    ("85".to_string(), "MP3"),
                    ("89".to_string(), "Cirrus"),
                    ("9".to_string(), "DRM"),
                    ("9472".to_string(), "Reserved range to 0x2600 Microsoft"),
                    ("96".to_string(), "Cirrus Logic"),
                    ("97".to_string(), "ESS Tech. PCM"),
                    ("98".to_string(), "Voxware Inc."),
                    ("99".to_string(), "Canopus ATRAC"),
                    (
                        "Notes".to_string(),
                        "These \"TwoCC\" audio encoding codes are used in RIFF and ASF files.",
                    ),
                ]))),
                value_conv: None,
            },
        ),
        (
            2,
            TagInfo {
                name: "SampleRate",
                format: "int32u",
                print_conv: None,
                value_conv: None,
            },
        ),
        (
            4,
            TagInfo {
                name: "AvgBytesPerSec",
                format: "int32u",
                print_conv: None,
                value_conv: None,
            },
        ),
    ])
});

/// Apply ValueConv transformation for tags in this table
pub fn apply_value_conv(
    tag_id: u32,
    value: &crate::types::TagValue,
    _errors: &mut Vec<String>,
) -> Result<crate::types::TagValue, crate::types::ExifError> {
    let tag_id_u16 = tag_id as u16;
    if let Some(tag_def) = RIFF_AUDIOFORMAT_TAGS.get(&tag_id_u16) {
        if let Some(ref value_conv) = tag_def.value_conv {
            match value_conv {
                ValueConv::None => Ok(value.clone()),
                ValueConv::Function(func) => func(value, None),
                ValueConv::Expression(_expr) => {
                    // Runtime expression evaluation removed - all Perl interpretation happens via PPI at build time
                    Err(crate::types::ExifError::NotImplemented("Runtime expression evaluation not supported - should be handled by PPI at build time".to_string()))
                }
                _ => Ok(value.clone()),
            }
        } else {
            Ok(value.clone())
        }
    } else {
        Err(crate::types::ExifError::ParseError(format!(
            "Tag 0x{:04x} not found in table",
            tag_id
        )))
    }
}

/// Apply PrintConv transformation for tags in this table
pub fn apply_print_conv(
    tag_id: u32,
    value: &crate::types::TagValue,
    _errors: &mut Vec<String>,
    _warnings: &mut Vec<String>,
) -> crate::types::TagValue {
    let tag_id_u16 = tag_id as u16;
    if let Some(tag_def) = RIFF_AUDIOFORMAT_TAGS.get(&tag_id_u16) {
        if let Some(ref print_conv) = tag_def.print_conv {
            match print_conv {
                PrintConv::None => value.clone(),
                PrintConv::Function(func) => func(value, None),
                PrintConv::Simple(lookup) => {
                    // Look up value in the hash map
                    // ExifTool uses the stringified value as the key
                    let key = value.to_string();
                    if let Some(display_value) = lookup.get(&key) {
                        crate::types::TagValue::String(display_value.to_string())
                    } else {
                        // Key not found - return original value
                        value.clone()
                    }
                }
                PrintConv::Expression(_expr) => {
                    // Runtime expression evaluation removed - all Perl interpretation happens via PPI at build time
                    value.clone() // Fallback to original value when expression not handled by PPI
                }
                _ => value.clone(),
            }
        } else {
            value.clone()
        }
    } else {
        value.clone()
    }
}
