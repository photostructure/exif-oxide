//! Generated AST functions for hash prefix 92
//!
//! This file is auto-generated by codegen/src/ppi/fn_registry/mod.rs.
//! DO NOT EDIT MANUALLY.

#![allow(dead_code, unused_variables, unreachable_code, unused_imports)]
#![allow(clippy::blocks_in_conditions)]
#![allow(clippy::collapsible_else_if)]
#![allow(clippy::unnecessary_cast)]
#![allow(clippy::erasing_op)]

use crate::types::{ExifContext, TagValue};
use codegen_runtime::{abs, atan2, cos, exp, int, log, power, sin, sqrt};

/// Original perl expression:
/// ``` perl
/// $val - 0x80
/// ```
/// Used by:
/// - Nikon::PictureControl.Brightness
/// - Nikon::PictureControl.Contrast
/// - Nikon::PictureControl.HueAdjustment
/// - Nikon::PictureControl.PictureControlQuickAdjust
/// - Nikon::PictureControl.Saturation
/// - Nikon::PictureControl.Sharpness
/// - Nikon::PictureControl.ToningSaturation
/// - Nikon::PictureControl2.Brightness
/// - Nikon::PictureControl2.Clarity
/// - Nikon::PictureControl2.Contrast
/// - Nikon::PictureControl2.Hue
/// - Nikon::PictureControl2.PictureControlQuickAdjust
/// - Nikon::PictureControl2.Saturation
/// - Nikon::PictureControl2.Sharpness
/// - Nikon::PictureControl2.ToningSaturation
/// - Nikon::PictureControl3.Brightness
/// - Nikon::PictureControl3.Clarity
/// - Nikon::PictureControl3.Contrast
/// - Nikon::PictureControl3.Hue
/// - Nikon::PictureControl3.MidRangeSharpness
/// - Nikon::PictureControl3.PictureControlQuickAdjust
/// - Nikon::PictureControl3.Saturation
/// - Nikon::PictureControl3.Sharpness
/// - Nikon::PictureControl3.ToningSaturation
pub fn ast_value_922de111bc6e29e(
    val: &TagValue,
    ctx: Option<&ExifContext>,
) -> Result<TagValue, codegen_runtime::types::ExifError> {
    Ok(val - 0x80u32)
}

/// Original perl expression:
/// ``` perl
/// exp(-$val/96*log(2))
/// ```
/// Used by:
/// - Canon::CameraInfoPowerShot.ExposureTime
/// - Canon::CameraInfoPowerShot2.ExposureTime
pub fn ast_value_92fe5916ea96cdf7(
    val: &TagValue,
    ctx: Option<&ExifContext>,
) -> Result<TagValue, codegen_runtime::types::ExifError> {
    Ok(codegen_runtime::exp(
        codegen_runtime::negate(val) / 96i32 * codegen_runtime::log(2i32),
    ))
}

/// PLACEHOLDER: Unsupported expression (missing implementation)
/// Original perl expression:
/// ``` perl
/// $val=~s/^.*: //;$val
/// ```
/// Used by:
/// - Exif::Main.Brightness
/// - Exif::Main.Contrast
/// - Exif::Main.Converter
/// - Exif::Main.Exposure
/// - Exif::Main.Lens
/// - Exif::Main.MoireFilter
/// - Exif::Main.OwnerName
/// - Exif::Main.RawFile
/// - Exif::Main.Saturation
/// - Exif::Main.SerialNumber
/// - Exif::Main.Shadows
/// - Exif::Main.Sharpness
/// - Exif::Main.Smoothness
/// - Exif::Main.WhiteBalance
///
/// TODO: Add support for this expression pattern
pub fn ast_value_926e96c93b8b92c5(
    val: &TagValue,
    ctx: Option<&ExifContext>,
) -> Result<TagValue, codegen_runtime::types::ExifError> {
    tracing::warn!("Missing implementation for expression in {}", file!());
    Ok(codegen_runtime::missing::missing_value_conv(
        0,                      // tag_id will be filled at runtime
        "UnknownTag",           // tag_name will be filled at runtime
        "UnknownGroup",         // group will be filled at runtime
        "$val=~s/^.*: //;$val", // original expression
        val,
    ))
}

/// PLACEHOLDER: Unsupported expression (missing implementation)
/// Original perl expression:
/// ``` perl
/// my $version = int($val / 256);
/// my $release =  int(($val - 256 * $version)/16);
/// my $modification = $val - (256 * $version + 16 * $release);
/// return sprintf("%.0f.%.0f.%.0f", $version,$release,$modification);
/// ```
/// Used by:
/// - Nikon::LensData0800.LensFirmwareVersion
///
/// TODO: Add support for this expression pattern
pub fn ast_print_92c6488dcbb07233(val: &TagValue, ctx: Option<&ExifContext>) -> TagValue {
    tracing::warn!("Missing implementation for expression in {}", file!());
    codegen_runtime::missing::missing_print_conv(
                    0, // tag_id will be filled at runtime
                    "UnknownTag", // tag_name will be filled at runtime
                    "UnknownGroup", // group will be filled at runtime
                    "my $version = int($val / 256);\n            my $release =  int(($val - 256 * $version)/16);\n            my $modification = $val - (256 * $version + 16 * $release);\n            return sprintf(\"%.0f.%.0f.%.0f\", $version,$release,$modification);", // original expression
                    val
                )
}

/// Registry fallback: ValueConv implementation found
/// Original perl expression:
/// ``` perl
/// IsFloat($val) && abs($val)<100 ? 2**(-$val) : 0
/// ```
/// Used by:
/// - Exif::Main.ShutterSpeedValue
pub fn ast_value_928b8af59f04cfe9(
    val: &TagValue,
    ctx: Option<&ExifContext>,
) -> Result<TagValue, codegen_runtime::types::ExifError> {
    crate::implementations::value_conv::apex_shutter_speed_value_conv(val, ctx)
}
